<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counter App</title>
</head>
<body>
    <h3>Counter App using State and Component</h3>
    <div id="buttonParent"></div>
    <script>
        // state object to store value is 0
        let state = {
            count: 0, // Initial count value is 0
        }

        // Function to increment the counter and update the color value time the button is clicked
        function onButtonPress() {
            // Increment the counter value by 1
            state.count++;

            // Re-render the button component with the updated counter value
            buttonComponentReRender();
        }

        // Function to create a button component with the counter value and color
        function buttonComponent(count){
            // Create a new button element
            const button = document.createElement("button");

            // Set the innerHTML of the button to display the counter value
            button.innerHTML = `Counter ${count}`;

            // Set the onclick attribute to call the onButtonPress function
            button.setAttribute("onclick", `onButtonPress()`);

            // Return the button element
            return button;
        }

        // Function to re-render the button component with the updated counter value 
        function buttonComponentReRender(){
            // Remove the existing button component
            document.getElementById("buttonParent").innerHTML = "";

            // Create a new button component with the updated counter value
            const component = buttonComponent(state.count);

            // Append the new button component to the parent element
            document.getElementById("buttonParent").appendChild(component);
        }
        // Initial render of the button component/calling the buttonComponentReRender function
        buttonComponentReRender();
    </script>
</body>
</html>